"use strict";(self.webpackChunkvuexy=self.webpackChunkvuexy||[]).push([[112],{3112:function(O,f,o){o.r(f),o.d(f,{KarigarModule:function(){return _}});var p=o(7289),m=o(5134),c=o(6019),s=o(9133),t=o(6154),h=o(3579),g=o(8922),v=o(8260),d=o(1366),b=o(4522),A=function(){var i=function(){function n(r){(0,m.Z)(this,n),this._http=r,this.baseUrl=v.N.apiUrl,this.path="karigar"}return(0,p.Z)(n,[{key:"create",value:function(e){return this._http.post("".concat(this.baseUrl,"/").concat(this.path,"/create"),e).pipe((0,d.b)(function(a){return a}))}},{key:"getAll",value:function(){return this._http.post("".concat(this.baseUrl,"/").concat(this.path,"/get-all"),{}).pipe((0,d.b)(function(e){return e}))}},{key:"getDetailById",value:function(e){return this._http.post("".concat(this.baseUrl,"/").concat(this.path,"/get-by-id"),e).pipe((0,d.b)(function(a){return a}))}},{key:"delete",value:function(e){return this._http.post("".concat(this.baseUrl,"/").concat(this.path,"/delete"),e).pipe((0,d.b)(function(a){return a}))}},{key:"update",value:function(e){return this._http.post("".concat(this.baseUrl,"/").concat(this.path,"/update"),e).pipe((0,d.b)(function(a){return a}))}},{key:"uploadImage",value:function(e){return this._http.post("".concat(v.N.apiUrl,"/upload/save-image"),e).pipe((0,d.b)(function(a){return a}))}}]),n}();return i.\u0275fac=function(r){return new(r||i)(t.LFG(b.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i}(),T=o(1781),q=o(9850),y=o(4104),C=o(3113);function U(i,n){if(1&i&&(t.TgZ(0,"div",19),t.TgZ(1,"div",20),t.TgZ(2,"label",34),t._uU(3,"Status"),t.qZA(),t.TgZ(4,"select",35),t.TgZ(5,"option",36),t._uU(6,"Active"),t.qZA(),t.TgZ(7,"option",37),t._uU(8,"Deactivate"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){var r=t.oxw();t.xp6(4),t.Q6J("ngClass",r.submitted&&r.f.status.errors?"is-invalid":r.f.status.errors?" ":"is-valid")}}var k=function(n){return["/Karigar",n]};function D(i,n){if(1&i){var r=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"img",41),t.TgZ(5,"span",42),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t.TgZ(14,"span",43),t._uU(15),t.qZA(),t.qZA(),t.TgZ(16,"td"),t.TgZ(17,"div",44),t.TgZ(18,"button",45),t.NdJ("click",function(){var J=t.CHM(r).$implicit;return t.oxw(2).confirmDelete(J.id)}),t._UZ(19,"span",46),t.qZA(),t.TgZ(20,"button",47),t._UZ(21,"span",46),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){var e=n.$implicit,a=n.index;t.xp6(2),t.Oqu(a+1),t.xp6(4),t.Oqu(e.name),t.xp6(2),t.Oqu(e.phone),t.xp6(2),t.Oqu(e.cnic),t.xp6(2),t.Oqu(e.address),t.xp6(3),t.Oqu(0==e.status?" deactivate":" active"),t.xp6(4),t.Q6J("data-feather","trash-2"),t.xp6(1),t.Q6J("routerLink",t.VKq(9,k,e.id)),t.xp6(1),t.Q6J("data-feather","edit")}}function x(i,n){if(1&i&&(t.TgZ(0,"div",38),t.TgZ(1,"table",39),t.TgZ(2,"thead"),t.TgZ(3,"tr"),t.TgZ(4,"th"),t._uU(5,"S No"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Name"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Mobile"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"CNIC"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Address"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Status"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Actions"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"tbody"),t.YNc(19,D,22,11,"tr",40),t.qZA(),t.qZA(),t.qZA()),2&i){var r=t.oxw();t.xp6(19),t.Q6J("ngForOf",r.tableDataArray)}}var Z=function(){var i=function(){function n(r,e,a,l,u){(0,m.Z)(this,n),this._sw=r,this.route=e,this.fb=a,this._serviceData=l,this._router=u,this.tableDataArray=[],this.submitted=!1,this.editable=!1}return(0,p.Z)(n,[{key:"onSubmit",value:function(e){this.submitted=!0,this.karigarFrom.invalid||(this.imageName=null==this.avatarImage?void 0:"".concat(Date.now(),".png"),void 0!==this.avatarImage&&this._serviceData.uploadImage({file:this.avatarImage,imageName:this.imageName,filePath:"karigar/"}).subscribe(),this.editable?this.updateFormDetail(e):this.insertFormDetail(e))}},{key:"insertFormDetail",value:function(e){var a=this;this._serviceData.create(Object.assign(Object.assign({},e),{karigar_image:this.imageName})).subscribe(function(l){a._sw.fire("success","Karigar","Record Successfully Add.."),a.getAllDetail(),a.submitted=!1,a.karigarFrom.reset()},function(l){a._sw.fire("error","Karigar",l.error.message)})}},{key:"updateFormDetail",value:function(e){var a=this;this._serviceData.update(Object.assign({id:this.id},e)).subscribe(function(l){a._sw.fire("success","Karigar","Record Successfully Update.."),a.editable=!1,a.submitted=!1,a._router.navigate(["/Karigar"])},function(l){a._sw.fire("error","Karigar",l.error.message)})}},{key:"ngOnInit",value:function(){this.avatarImage="assets/images/avatars/1-small.png",this.id=+this.route.snapshot.paramMap.get("id"),this.id>0&&this.getDetailById(),this.getAllDetail(),this.makeReactiveForm(),this.contentHeader={headerTitle:"Karigar",actionButton:!0,breadcrumb:{type:"",links:[{name:"Karigar",isLink:!0,link:"/"},{name:"CRUD",isLink:!1}]}}}},{key:"getAllDetail",value:function(){var e=this;this._serviceData.getAll().subscribe(function(a){a.data&&(e.tableDataArray=a.data)})}},{key:"f",get:function(){return this.karigarFrom.controls}},{key:"getDetailById",value:function(){var e=this;this._serviceData.getDetailById({id:this.id}).subscribe(function(a){e.editable=!0,e.karigarFrom.patchValue({symbol:a.data.symbol,name:a.data.name,status:a.data.status})})}},{key:"makeReactiveForm",value:function(){this.karigarFrom=this.fb.group({karigar_image:[],name:["",[s.kI.required]],phone:["",[s.kI.required]],cnic:["",[s.kI.required]],address:[""]})}},{key:"confirmDelete",value:function(e){var a=this,l={id:e};this._sw.delete(function(){return a._serviceData.delete(l).subscribe(function(u){setTimeout(function(){return a.getAllDetail()},2e3)},function(u){a._sw.fire("error","Collection","There is a problem")})})}},{key:"uploadImage",value:function(e){var a=this;if(e.target.files&&e.target.files[0]){var l=new FileReader;l.onload=function(u){a.avatarImage=u.target.result},console.log(this.avatarImage),l.readAsDataURL(e.target.files[0])}}}]),n}();return i.\u0275fac=function(r){return new(r||i)(t.Y36(h.i),t.Y36(g.gz),t.Y36(s.qu),t.Y36(A),t.Y36(g.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-crud"]],decls:47,vars:9,consts:[[1,"content-wrapper","container-xxl","p-0"],[1,"content-body"],[3,"contentHeader"],["id","table-striped",1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"form","form-vertical",3,"formGroup"],[1,"row"],[1,"col-12","col-md-2"],["height","90","width","90","alt","User avatar",1,"user-avatar","users-avatar-shadow","rounded","mr-2","my-25","cursor-pointer",3,"src"],["for","change-picture",1,"btn","btn-primary","mr-75","mb-0"],[1,"d-none","d-sm-block"],["type","file","id","change-picture","hidden","","accept","image/png, image/jpeg, image/jpg",1,"form-control",3,"change"],[1,"d-block","d-sm-none"],["data-feather","edit",1,"mr-0"],[1,"col-12","col-md-10","row"],[1,"col-12","col-md-4"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","name","placeholder","Enter Full Name..","required","",1,"form-control",3,"ngClass"],["for","phone"],["type","text","id","phone","formControlName","phone","placeholder","0314-2309654","required","",1,"form-control",3,"ngClass"],["for","cnic"],["type","text","id","cnic","formControlName","cnic","placeholder","xxx-xxxxxxx-xxx","mask","0000 0000 0000 0000","required","",1,"form-control",3,"ngClass"],[1,"col-12",3,"ngClass"],["for","address"],["type","text","id","address","formControlName","address","placeholder","north karachi sector house no L-xxx",1,"form-control"],["class","col-12 col-md-4",4,"ngIf"],[1,"col-12","col-md-4","p-2"],["type","submit","rippleEffect","",1,"btn","btn-primary","float-right",3,"click"],["class","table-responsive",4,"ngIf"],["for","status"],["formControlName","status","id","status",1,"form-control","mb-1",3,"ngClass"],["value","1"],["value","0"],[1,"table-responsive"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["src","assets/images/icons/angular.svg","height","20","width","20","alt","Angular",1,"mr-75"],[1,"font-weight-bold"],[1,"badge","badge-pill","badge-light-info","mr-1"],[1,"d-flex","align-items-center"],["type","button","rippleEffect","",1,"btn","btn-icon","btn-flat-danger",3,"click"],[3,"data-feather"],["type","button","rippleEffect","",1,"btn","btn-icon","btn-flat-primary",3,"routerLink"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"app-content-header",2),t.TgZ(3,"section"),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"div",5),t.TgZ(7,"div",6),t.TgZ(8,"h4",7),t._uU(9,"Karigar CRUD"),t.qZA(),t.qZA(),t.TgZ(10,"div",8),t.TgZ(11,"form",9),t.TgZ(12,"div",10),t.TgZ(13,"div",11),t._UZ(14,"img",12),t.TgZ(15,"label",13),t.TgZ(16,"span",14),t._uU(17,"upload"),t.qZA(),t.TgZ(18,"input",15),t.NdJ("change",function(l){return e.uploadImage(l)}),t.qZA(),t.TgZ(19,"span",16),t._UZ(20,"i",17),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",18),t.TgZ(22,"div",19),t.TgZ(23,"div",20),t.TgZ(24,"label",21),t._uU(25,"Name"),t.qZA(),t._UZ(26,"input",22),t.qZA(),t.qZA(),t.TgZ(27,"div",19),t.TgZ(28,"div",20),t.TgZ(29,"label",23),t._uU(30,"Mobile Phone"),t.qZA(),t._UZ(31,"input",24),t.qZA(),t.qZA(),t.TgZ(32,"div",19),t.TgZ(33,"div",20),t.TgZ(34,"label",25),t._uU(35,"CNIC"),t.qZA(),t._UZ(36,"input",26),t.qZA(),t.qZA(),t.TgZ(37,"div",27),t.TgZ(38,"div",20),t.TgZ(39,"label",28),t._uU(40,"Address "),t.qZA(),t._UZ(41,"input",29),t.qZA(),t.qZA(),t.YNc(42,U,9,1,"div",30),t.TgZ(43,"div",31),t.TgZ(44,"button",32),t.NdJ("click",function(){return e.onSubmit(e.karigarFrom.value)}),t._uU(45," Save "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(46,x,20,1,"div",33),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&r&&(t.xp6(2),t.Q6J("contentHeader",e.contentHeader),t.xp6(9),t.Q6J("formGroup",e.karigarFrom),t.xp6(3),t.Q6J("src",e.avatarImage,t.LSH),t.xp6(12),t.Q6J("ngClass",e.submitted&&e.f.name.errors?"is-invalid":e.f.name.errors?" ":"is-valid"),t.xp6(5),t.Q6J("ngClass",e.submitted&&e.f.phone.errors?"is-invalid":e.f.phone.errors?" ":"is-valid"),t.xp6(5),t.Q6J("ngClass",e.submitted&&e.f.cnic.errors?"is-invalid":e.f.cnic.errors?" ":"is-valid"),t.xp6(1),t.Q6J("ngClass",1==e.editable?"col-md-4":"col-md-8"),t.xp6(5),t.Q6J("ngIf",e.editable),t.xp6(4),t.Q6J("ngIf",0!=e.tableDataArray.length))},directives:[T.e,s._Y,s.JL,s.sg,q.R,s.Fj,s.JJ,s.u,s.Q7,c.mk,y.oO,c.O5,C.R,s.EJ,s.YN,s.Kr,c.sg,g.rH],styles:[""]}),i}(),I=o(8947),F=o(2286),N=[{path:"",component:Z},{path:":id",component:Z}],_=function(){var i=(0,p.Z)(function n(){(0,m.Z)(this,n)});return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[h.i],imports:[[c.ez,g.Bz.forChild(N),I.N,F.$,s.u5,s.UX]]}),i}()}}]);